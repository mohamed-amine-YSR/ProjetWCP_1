<div class="content-heading">
  Gestion des membres
</div>
<div class="row justify-content-center mt-3 mb-3">
  <div class="btn-group">
    <button class="btn btn-green">Demandes d'adhésion à la plateforme</button>
    <button class="btn btn-secondary">Tous les membres</button>
  </div>
</div>
<div class="container">
  <!--alert type="dark">
    <em class="fa fa-exclamation-circle fa-lg fa-fw"></em>
    <ul>
      <li><span>Le&nbsp;<strong><u>mot de passe initial</u></strong>&nbsp;d'un membre est la chaine située avant le caractère "<u><strong>@</strong></u>" de l'<strong>adresse émail</strong></span></li>
      <li><strong><u>Exemple :</u></strong>&nbsp;[soit l'adresse émail suivante : <strong>xxx.yyy@email.com</strong>] ===> [voici le mot de passe initial : <strong>xxx.yyy</strong>]</li>
      <li>Lorsqu'un membre est authentifié, il peut changer son mot de passe initial.</li>
    </ul>


  </alert-->
  <div class="row">
    <div class="col-lg-12">
      <div class="card card-default mt-2">
        <div class="card-body">
          <!--button class="btn btn-md btn-outline-green" (click)="addResp=true"><span class="fa fa-plus mr-2"></span>Ajouter un nouveau responsable</button>
          <div class="box-placeholder mt-2" *ngIf="addResp">
            <form class="form-horizontal">
              <div class="form-group row mb">
                <label class="col-md-3 col-form-label font-weight-bold text-green">Nom</label>
                <div class="col-md-7">
                  <input class="mb-3 form-control" type="text" name="nom-centre" placeholder="Nom du centre" [(ngModel)]="newResp.nom" />
                </div>
              </div>
              <div class="form-group row mb">
                <label class="col-md-3 col-form-label font-weight-bold text-green">Prénom</label>
                <div class="col-md-7">
                  <input class="mb-3 form-control" type="text" name="nom-centre" placeholder="Nom du centre" [(ngModel)]="newResp.prenom" />
                </div>
              </div>
              <button class="btn btn-oval btn-outline-green btn-md font-weight-bold" (click)="addResponsable()">Ajouter</button>
            </form>
          </div-->
          <table class="mt-3 table table-hover" *ngIf="membres.length > 0">
            <thead class="bg-dark">
            <tr>
              <th class="text-white">Nom complet</th>
              <th class="text-white">Email</th>
              <th class="text-white">Centre attaché</th>
              <th class="text-white">Compétences</th>
              <th>Action</th>
              <th *ngIf="en_cours_act"></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let m of membres">
              <td>{{(m.genre === 'f' ? 'Mme.' : 'Mr.') + ' ' + m.nom.toUpperCase() + ' ' + m.prenom}}</td>
              <td>{{m.email}}</td>
              <td>{{m.centre}}</td>
              <td>
                <div class="row">
                  <span class="badge bg-gray p-1 m-1" *ngFor="let s of m.skills">{{s.name}}</span>
                </div>
              </td>
              <td>
                <div class="ml-auto">
                  <div class="btn-group" dropdown>
                    <button class="btn btn-link" placement="bottom" [tooltip]="'Action'" dropdownToggle>
                      <em class="fa fa-ellipsis-v fa-lg"></em>
                    </button>
                    <ul *dropdownMenu class="dropdown-menu dropdown-menu-right-forced animated fadeInLeft" role="menu">
                      <li class="dropdown-item pnt">
                        <span (click)="confirmEtat(m.idU, true)">Accepter la demande</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </td>
              <td *ngIf="en_cours_act">
                <div class="line-scale-pulse-out-rapid" *ngIf="m.idU == idSelectedUser">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
          <div class="mt-3" *ngIf="membres.length == 0 && !en_cours">
            <div class="row justify-content-center">
              Aucune demande n'est trouvé pour l'instant !
            </div>
          </div>
          <div class="mt-3" *ngIf="showMore">
            <div *ngIf="en_cours">
              <div class="row justify-content-center">
                <div class="pacman">
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                  <div></div>
                </div>
              </div>
              <h4 class="text-center text-primary mt-2">Chargement des données en cours</h4>
            </div>
            <div class="row justify-content-center" *ngIf="!en_cours && nbrMembres>0">
              <button class="btn btn-oval btn-outline-primary" (click)="getMembres()">Afficher plus</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
